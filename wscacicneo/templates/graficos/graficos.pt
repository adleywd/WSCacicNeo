<metal:main use-macro="load: ../master.pt">
    <metal:content fill-slot="dash">
        Gr√°ficos
    </metal:content>
    <metal:macro fill-slot="conteudo">
        <div class="widget-content">
            <div class="padd">

                <div class="row">
                    <div class="col-md-4">
                        <div id="pie-chart"></div>
                    </div>
                    <div class="col-md-4">
                        <div id="pie-chart2"></div>
                    </div>
                    <div class="col-md-4">
                        <div id="pie-chart3"></div>
                    </div>
                </div>

            </div>
        </div>
    </metal:macro>
    <metal:macro fill-slot="javascript">

        <script type="text/javascript">

            /* Pie chart starts */

            $(function () {

                var data = ${data};

                $.plot($("#pie-chart"), data,
                        {
                            series: {
                                pie: {
                                    show: true,
                                    radius: 1,
                                    label: {
                                        show: true,
                                        radius: 3 / 4,
                                        formatter: function (label, series) {
                                            return '<div style="font-size:8pt;text-align:center;padding:2px;color:white;">' + label + '<br/>' + Math.round(series.percent) + '%</div>';
                                        },
                                        background: {opacity: 0},
                                    }
                                }
                            },
                            grid: {hoverable: true},
                            legend: {
                                show: false
                            }
                        });

                $.plot($("#pie-chart2"), data,
                        {
                            series: {
                                pie: {
                                    show: true
                                }
                            },
                            grid: {hoverable: true}
                        });


                $.plot($("#pie-chart3"), data,
                        {
                            series: {
                                pie: {
                                    show: true
                                }
                            },
                            grid: {hoverable: true},
                            legend: {
                                show: false
                            }
                        });

                /* Pie chart ends */

            });

        </script>

    </metal:macro>
</metal:main>